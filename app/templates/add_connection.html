{% extends "base.html" %}

{% block content %}
    <h1>Connection</h1>
    <form action="" method="post" novalidate>
        {{ form.hidden_tag() }}
        {% if current_user.role != ('dispatcher') %}
        <p>
            {{ form.departure.label }}<br>
            {{ form.departure(size=32) }}
        </p>
        <p>
            {{ form.direction.label }}<br>
            {{ form.direction(size=2) }}
        </p>
        <p>
            {{ form.only_working_days.label }}<br>
            {{ form.only_working_days(size=32) }}
        </p>
        {% endif %}
        {% if current_user.role == ('admin') %}
        <p>
            {{ form.vehicle_username.label }}<br>
            {{ form.vehicle_username(size=32, list="vehicle_list") }}
            <datalist id="vehicle_list">
                {%for vehicle in vehicles%}
                    <option value="{{vehicle}}" >{{vehicle}}</option>
                {%endfor%}
            </datalist>
        </p>
        <p>
            {{ form.driver_name.label }}<br>
            {{ form.driver_name(size=32, list="driver_list") }}
            <datalist id="driver_list">
                {%for driver in drivers%}
                    <option value="{{driver}}" >{{driver}}</option>
                {%endfor%}
            </datalist>
        </p>
        {% endif %}
        {% if current_user.role == ('dispatcher') %}
        <p>
            {{ form.vehicle_username.label }}<br>
            {{ form.vehicle_username(size=32, list="vehicle_list") }}
            <datalist id="vehicle_list">
                {%for vehicle in vehicles%}
                    <option value="{{vehicle}}" >{{vehicle}}</option>
                {%endfor%}
            </datalist>
        </p>
        <p>
            {{ form.driver_name.label }}<br>
            {{ form.driver_name(size=32, list="driver_list") }}
            <datalist id="driver_list">
                {%for driver in drivers%}
                    <option value="{{driver}}" >{{driver}}</option>
                {%endfor%}
            </datalist>
        </p>
        {% endif %}
        <p>{{ form.submit() }}</p>
    </form>


{% endblock %}